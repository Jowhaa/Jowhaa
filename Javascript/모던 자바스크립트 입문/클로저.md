## 클로저

클로저란 자기 자신이 정의된 환경에서 함수 안에 있는 자유 변수의 식별자 결정을 실행한다. 

```javascript
    var a = "A";
    function f(){
        var b = "B";
        function g(){
            var c = "C";
            console.log(a + b + c);
        }
        g();
    }
    f();
```
이 코드에서 중첩 함수 g가 정의된 렉시컬 환경은 함수 g를 둘러싼 바깥 영역 전체다. 이 렉시컬 환경 안에서 함수 g의 자유 변수 a와 b의 식별자 결정을 한다.

1. 함수f를 호출할 때 함수 f의 렉시컬 환경 컴포넌트가 생성된다.
2. 그 후에 함수 g의 함수 선언문을 평가해서 함수 객체를 생성한다. 이 함수 객체의 렉시컬환경 컴포넌트에는 함수 g의 코드, 함수 f의 렉시컬 컴포넌트 참조, 전역 객체의 참조가 저장된다.
3. 함수 g를 호출해서 실행하면 그 시점에 함수 g의 렉시컬 환경 컴포넌트를 생성한다. 이와 동시에 함수 g의 실행 문맥의 외부 렉시컬 환경 참조(__scope__)를 마치 체인처럼 거슬러 올라가서 자유 변수 a와 b의 값을 참조한다.

즉, 함수 g의 함수 객체와 객체가 참조하는 렉시컬 환경 컴포넌트가 자유 변수 a,b의 식별자 결정을 위한 자료구조다.

이 자료구조는 함수 f가 호출되고 g가 평가되는 시점에 생성된다.