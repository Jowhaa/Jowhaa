## 이름공간

이름 공간이란 변수 이름과 함수 이름을 한 곳에 모아 두어 이름 충돌을 미리 방지하고, 변수와 함수를 쉽게 가져다 쓸 수 있게 만든 매커니즘이다. 객체를 이름 공간으로 활용하려면 객체를 값으로 가지는 전역 변수를 하나 생성하고, 그 객체에 프로그램 전체에서 사용하는 모든 변수와 함수를 프로퍼티로 정의합니다. 

```javascript
    var myApp = myApp || {};        // 이미 myApp이 정의되어 있을 경우 그것을 사용하고 아닌 경우 빈 객체를 할당함.
```

```javascript
    myApp.name = "Tom";
    myApp.showName = function() {...};
```
이렇게 되면 myApp만이 사용자가 정의한 전역 변수가 되므로 전역 유효 범위의 오염을 최소화 할 수 있습니다.

### 함수 이름 공간으로 활용하기
함수 안에서 선언된 변수의 유효 범위는 함수 내부다. 따라서 그 변수를 함수 안에서는 읽거나 쓸 수 있지만 바깥에서는 읽거나 쓸 수 없습니다. 이 성질을 잘 활용하면 함수를 이름 공간으로 활용할 수 있습니다.

```javascript
    var x = "global x";
    (function(){
        var x="local x";
        var y="local y";
    })();

    console.log(x); // global x
    console.log(y); // y is not defined
```
즉시 실행함수 내부에서 선언한 변수인 x와 y는 이 함수의 지역 변수이므로 전역 변수와 이름이 충돌하지 않습니다. 따라서 일시적인 처리를 수행하고자 할 때 그 내용물을 즉시 실행 함수 안에 작성하면 전역 유효 공간을 오염시키지 않고 실행할 수 있습니다.

라이브러리를 읽어 들여서 사용할 때 라이브러리 안에 있는 전역 변수와 충돌하지 않도록 하려면 전체 프로그램을 즉시 함수 안에 넣어서 실행합니다.


### 모듈패턴
모듈은 기능 여러개를 하나로 묶은 것 입니다. 모듈을 즉시 실행 함수 안에 작성하여 실행하면 이름이 충돌하는 상황을 피할 수 있습니다. 하지만 즉시 실행 함수의 내부에 작성한 함수나 변수는 바깥에서 사용할 수 없습니다.

! 그래서 즉시 실행 함수에 객체로 구현한 이름 공간을 전역 변수로 넘겨서 공개할 함수를 이름 공간에 추가하도록 합니다. 이를 이용해 모듈의 내부 구조는 은폐하고 원하는 함수만 공개할 수 있습니다.

```javascript
    var Module = Module || {};              //1
    (function (_Module){
        var name = 'NoName';    // 프라이빗 변수
        function getName(){             // 프라이빗 함수
            return name;
        };

        Module.showName = function(){   //퍼블릭 함수
            console.log(getName());
        };

        Module.setName = function(x){   //퍼블릭 함수
            name = x;
        };
    })(Module);                             // 1에서 생성한 객체를 인자로 사용
    Module.setName("Tom");  
    Module.showName();      // Tom
```
이 예제에서 showName 메서드는 getName을 참조하고 있으며 setName 메서드는 name을 참조하고 있다. 이로 인해 클로저가 생성되며 즉시 실행함수의 지역변수 name과 지역함수 getName은 클로저의 내부 상태로 저장된다.